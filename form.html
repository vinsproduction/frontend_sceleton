<!DOCTYPE html>
<html class="js csstransforms3d">
  <head>
    <meta name="viewport" content="width=1265">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!--SEO-->
    <title>dev</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <!-- Open Graph-->
    <meta property="og:title" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta property="og:description" content="">
    <!--favicon-->
    <link rel="image_src" href="">
    <link rel="shortcut icon" type="image/x-icon" href="">
    <!--IE--><!--[if IE]>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="imagetoolbar" content="no"/>
    <meta http-equiv="MSThemeCompatible" content="no"/>
    <![endif]-->
    <!--[if lt IE 7]>
    <style>
      body > main {
       height: 100%;
      }
    </style><![endif]-->
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/libs/html5shiv.js"></script><![endif]-->
    <!--Apple-->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!--JS helpers -->
    <script type="text/javascript" src="js/libs/helpers.js"></script>
    <!--Include JS/CSS-->
    <script>
      console.debug('dev');
      $$.includeJS('js/libs/jquery-1.10.2.min.js');
      $$.includeJS('js/libs/jquery-ui-1.10.3.custom.js');
      $$.includeJS('js/libs/jquery.tinyscrollbar.js');
      $$.includeJS('js/libs/jquery.cookie.js');
      
      $$.includeJS('js/libs/mustache.js');
      $$.includeJS('js/libs/underscore-min.js');
      $$.includeJS('js/libs/json2.js');
      $$.includeJS('js/libs/backbone.router.js');
      $$.includeJS('js/libs/popup.js');
      
      $$.includeJS('js/classie.js');
      
      $$.includeCSS('css/app.css');
      $$.includeJS('js/prettify.js');
      $$.includeJS('js/lang-css.js');
      $$.includeCSS('css/sons-of-obsidian.css');
      
      
      $$.includeJS('js/app.models.js');
      $$.includeJS('js/app.views.js');
      $$.includeJS('js/app.router.js');
      
      $$.includeJS('js/app.js');
      
    </script>
    <!--App initialization!-->
    <script>
      window.app = new App({
       name: "Frontend dev",
       hashNavigate: false,
       root: "",
      });
      
      
    </script>
    <script type="text/javascript" src="js/libs/form.js"></script>
    <script>
      $(document).ready(function(){
      
       formValidator = new Form({
       
        logs: true,
        autoHideErrors: true,
        errorFadeOut: 3000,
        
        formName: 'nice form',
        formEl: '#form',
        submitEl: '.submit',
        
        fields:{
         'firstname' : {
          useErrorTemplate: true,
          checkErrorsOnFocus: true,
          placeholder: 'placeholder firstname',
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           },
           min: {
            count: 2,
            reason: 'Минимум {count} символа'
           },
           max: {
            count: 10,
            reason: 'Максимум {count} символов'
           }
          }
         },
         'password' : {
          useErrorTemplate: true,
          hideErrorsOnFocus: true,
          //focus: true,
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           },
           numeric:{
            reason: 'Разрешены только цифры'
           }
          }
         },
         'url' : {
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           },
           url: {
            reason: 'Неправильно заполненный url'
           }
          },
          onError: function(fieldName,errors){
           for(i in errors){
            $(".error-custom-url").append(errors[i] + "<br/>");
           };
          }
         },
         'email' : {
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           },
           email: {
            reason: 'Неправильно заполненный email'
           }
          },
          onError: function(fieldName,errors){
           for(i in errors){
            $(".error-custom-email").append(errors[i] + "<br/>");
           };
          }
         },
         'text' : {
          enterSubmit: true,
          hideErrorsOnFocus: true,
          useErrorTemplate: true,
          escape: true,
          placeholder: 'placeholder text',
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           }
          }
         },
         'checkbox_1' : {
          style: true,
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           }
          },
          onError: function(fieldName,errors){
           for(i in errors){
            $(".error-custom-checkbox_1").append(errors[i] + "<br/>");
           };
          }
         },
         'checkbox_2' : {
          style: true,
          useErrorTemplate: true,
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           }
          },
          //- onError: function(fieldName,errors){
          //- 	for(i in errors){
          //- 		$(".error-custom-checkbox_2").append(errors[i] + "<br/>");
          //- 	};
          //- }
         },
         'radiobutton' : {
          style: true,
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           }
          },
          onError: function(fieldName,errors){
           for(i in errors){
            $(".error-custom-radiobutton").append(errors[i] + "<br/>");
           };
          }
         },
         'dropdown' : {
          style: true,
          useErrorTemplate: true,
          rules: {
           required:{
            not: '- Выбрать -',
            reason: 'Обязательное поле для заполнения'
           }
          },
          //- onError: function(fieldName,errors){
          //- 	for(i in errors){
          //- 		$(".error-custom-dropdown").append(errors[i] + "<br/>");
          //- 	};
          //- }
         }
        },
        
        onSubmit: function(data){
         $(".error-custom-alert").empty();
        },
        
        onFail: function(errors){},
        
        onReset: function(){
         $(".error-custom-alert").empty();
        },
        
        onLoad: function(){},
        
        onInit: function(){
        
         formValidator.setVal('dropdown','o1');
        },
        
        onSuccess: function(data){
         $(".error-custom-alert").empty();
        }
       });
       
       formValidator.addRule({
        field: 'firstname',
        rule: 'custom rule',
        reason: 'Введите слово "хорошо"',
        condition: function(val){
         return val == 'хорошо';
        }
       });
       
       
       // Добавление поля
       
       var fieldId = 1; // Уникальное имя поля
       
       window.addField = function(){
       
        fieldId++;
        
        var fieldName = 'firstname-' + fieldId;
        
        var field = ''
        + '<div class="g-row new-field" data-name="'+ fieldName +'">'
        + '<label>'+ fieldName +'</label>'
        + '<input type="text" name="'+ fieldName +'">'
        + '<div class="error-custom-alert error-custom-'+ fieldName +'"></div>'
        + '</div>';
        
        $('#form .new-fields').append($(field));
        
        formValidator.addField({
         name: fieldName,
         options: {
          rules: {
           required:{
            reason: 'Обязательное поле для заполнения'
           }
          },
          onError: function(fieldName,errors){
           for(i in errors){
            $(".error-custom-" + fieldName).append(errors[i] + "<br/>");
           };
          }
         }
        });
        
       }
       
       window.removeField = function(){
       
        fieldId--;
        
        row = $('#form .new-fields .new-field:last-child');
        
        fieldName = row.attr('data-name');
        
        row.remove();
        
        formValidator.removeField(fieldName);
       };
       
       
       
      });
      
    </script>
  </head>
  <body onload="prettyPrint()">
    <div id="popups" class="yea">
      <div data-popup-name="custom" class="popup">
        <div data-popup-close class="close"></div>
        <div class="header">
          <h1></h1>
        </div>
        <div class="body"></div>
        <div class="footer">
          <button data-popup-close class="g-btn-2">закрыть</button>
        </div>
      </div>
      <div data-popup-name="unique" class="popup">
        <div data-popup-close class="close"></div>
        <div class="header">
          <h1>unique</h1>
        </div>
        <div class="body">
          <p>popup</p>
        </div>
        <div class="footer">
          <button data-popup-button class="g-btn-2">закрыть</button>
        </div>
      </div>
      <div data-popup-close class="background"></div>
    </div>
    <main>
      <header class="fixed">
        <div class="container">
          <div class="content">
            <div class="logo">
              <h5><a href="index.html">Tutorials</a></h5>
            </div>
            <nav id="menu">
              <ul>
                <li><a href="../">Skeleton</a></li>
                <li><a href="../guideline.html">Guideline</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
      <div class="sections">
        <section id="page-form">
          <div class="container">
            <div class="content">
              <h1>Form validation</h1>
              <form id="form">
                <div class="g-row">
                  <label>firstname</label>
                  <input type="text" name="firstname">
                </div>
                <div class="g-row">
                  <label>password</label>
                  <input type="text" name="password">
                </div>
                <div class="g-row">
                  <label>url</label>
                  <input type="text" name="url">
                  <div class="error-custom-alert error-custom-url"></div>
                </div>
                <div class="g-row">
                  <label>email</label>
                  <input type="text" name="email">
                  <div class="error-custom-alert error-custom-email"></div>
                </div>
                <div class="g-row">
                  <label>text</label>
                  <textarea name="text">куку</textarea>
                </div>
                <div class="g-row">
                  <label>checkbox 1</label>
                  <div class="field-group"><span>1</span>
                    <input type="checkbox" name="checkbox_1" value="1" checked>
                  </div>
                  <div class="error-custom-alert error-custom-checkbox_1"></div>
                </div>
                <div class="g-row">
                  <label>checkbox 2</label>
                  <div class="field-group"><span>3</span>
                    <input type="checkbox" name="checkbox_2" value="2">
                  </div>
                </div>
                <div class="g-row">
                  <label>radio</label>
                  <div class="field-group"><span>1</span>
                    <input type="radio" name="radiobutton" value="1"><span>2	</span>
                    <input type="radio" name="radiobutton" value="2">
                  </div>
                  <div class="error-custom-alert error-custom-radiobutton"></div>
                </div>
                <div class="g-row">
                  <label>dropdown</label>
                  <select name="dropdown">
                    <option>- Выбрать -</option>
                    <option value="o1">option1</option>
                    <option value="o2">option2</option>
                  </select>
                </div>
                <div class="g-row new-fields"></div>
                <div class="g-row">
                  <button onclick="removeField();" class="reset">Убрать поле</button>
                  <button onclick="addField();" class="reset">Добавить поле</button>
                  <button onclick="formValidator.reset();" class="reset">Сбросить</button>
                  <input type="submit" value="Отправить" class="submit">
                </div>
              </form>
              <h2>Правила валидации</h2>
              <div class="g-row">required &mdash; Обязательное поле</div>
              <div class="g-row">numeric &mdash; Разрешены только цифры</div>
              <div class="g-row">numericDash &mdash; Разрешены только цифры и подчеркивания</div>
              <div class="g-row">alpha &mdash; Разрешены только буквы</div>
              <div class="g-row">alphaDash &mdash; Разрешены только буквы и подчеркивания</div>
              <div class="g-row">alphaNumeric &mdash; Разрешены только буквы и цифры</div>
              <div class="g-row">max &mdash; Максимум символов</div>
              <div class="g-row">min &mdash; Минимум символов</div>
              <div class="g-row">email &mdash; Email</div>
              <div class="g-row">url &mdash; Url</div>
              <div class="g-row">ip &mdash; Ip</div>
              <h2>Инициализация формы</h2>
              <pre class="example prettyprint lang-js linenums">formValidator = new Form({

 logs: true, // Логировать форму
 
 formName: 'nice form', // Имя формы (опционально, проще дебажить если на странице много форм)
 formEl: '#form', // Элемент формы (можно передавать элемент DOM)
 submitEl: '.submit', // Элемент кнопки отправки (можно передавать элемент DOM)
 
 fields:{
  'firstname' : {
   useErrorTemplate: true, // Использовать темплейт с ошибками
   checkErrorsOnFocus: true, // Валидировать поле сразу в фокусе
   placeholder: 'placeholder firstname', // Плейсхолдер (Не значение!)
   rules: {
    required:{ // Правило
     reason: 'Обязательное поле для заполнения' // Установка причины ошибки (опционально)
    },
    min: {
     count: 2, // Миниальное кол-во символов
     reason: 'Минимум {count} символа' // Установка причины ошибки (опционально)
    },
    max: {
     count: 10, // Максимальное кол-во символов
     reason: 'Максимум {count} символов'
    }
   }
  },
  'password' : {
   useErrorTemplate: true,
   hideErrorsOnFocus: true, // Скрывать ошибки в фокусе
   //focus: true, // Фокусировать на это поле
   rules: {
    required:{
     reason: 'Обязательное поле для заполнения'
    },
    numeric:{
     reason: 'Разрешены только цифры'
    }
   }
  },
  'url' : {
   rules: {
    required:{
     reason: 'Обязательное поле для заполнения'
    },
    url: {
     reason: 'Неправильно заполненный url'
    }
   },
   
   // Ручная работа над ошибками, без использования темплейтов
   onError: function(fieldName,errors){
    for(i in errors){
     $(".error-custom-url").append(errors[i]);
    };
   }
  },
  'email' : {
   rules: {
    required:{
     reason: 'Обязательное поле для заполнения'
    },
    email: {
     reason: 'Неправильно заполненный email'
    }
   },
   onError: function(fieldName,errors){
    for(i in errors){
     $(".error-custom-email").append(errors[i]);
    };
   }
  },
  'text' : {
   enterSubmit: true, // Отправка по Enter, если элмент в фокусе
   hideErrorsOnFocus: true,
   useErrorTemplate: true,
   escape: true, // Экранировать ввод символов
   placeholder: 'placeholder text',
   rules: {
    required:{
     reason: 'Обязательное поле для заполнения'
    }
   }
  },
  'checkbox_1' : {
   rules: {
    required:{
     reason: 'Обязательное поле для заполнения'
    }
   },
   onError: function(fieldName,errors){
    for(i in errors){
     $(".error-custom-checkbox_1").append(errors[i]);
    };
   }
  },
  'checkbox_2' : {
   rules: {
    required:{
     reason: 'Обязательное поле для заполнения'
    }
   },
   onError: function(fieldName,errors){
    for(i in errors){
     $(".error-custom-checkbox_2").append(errors[i]);
    };
   }
  },
  'radiobutton' : {
   rules: {
    required:{
     reason: 'Обязательное поле для заполнения'
    }
   },
   onError: function(fieldName,errors){
    for(i in errors){
     $(".error-custom-radiobutton").append(errors[i]);
    };
   }
  },
  'dropdown' : {
   rules: {
    required:{
     not: '- Выбрать -', // Это значение НЕ валидируется!
     reason: 'Обязательное поле для заполнения'
    }
   },
   onError: function(fieldName,errors){
    for(i in errors){
     $(".error-custom-dropdown").append(errors[i]);
    };
   }
  }
 },
 
 // Событие отправки формы
 onSubmit: function(data){
  $(".error-custom-alert").empty();
 },
 
 // Событие неудачной отправки формы
 onFail: function(errors){},
 
 // Событие сброса формы
 onReset: function(){
  $(".error-custom-alert").empty();
 },
 
 // Событие загрузки формы
 onLoad: function(){},
 
 // Событие инициализации формы. Полезно когда необходимо навешать на форму еще событий.
 // До и после отправки, происходит сброс формы и переинициализация, в также новый bind элементов
 onInit: function(){},
 
 // Событие успешной отправки формы
 onSuccess: function(data){
  $(".error-custom-alert").empty();
 }
})

// Добавление нового правила
formValidator.addRule({
 field: 'firstname', // Имя поля
 rule: 'custom rule', // Название правила
 reason: 'Введите слово "хорошо"', // Описание причины ошибки
 condition: function(val){ // Условие исполнения - должно возвращать или true или false
  return val == 'хорошо';
 }
});
</pre>
            </div>
          </div>
        </section>
      </div>
      <footer>
        <div class="container">
          <div class="content">
            <h1></h1>
          </div>
        </div>
      </footer>
    </main>
  </body>
</html>